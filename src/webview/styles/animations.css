/**
 * 4MGI Git Board - Animations
 * Shared animation keyframes and utilities
 */

/* =============================================================================
   Animation Variables
   ============================================================================= */

:root {
	--animation-fast: 150ms;
	--animation-normal: 250ms;
	--animation-slow: 400ms;
	--animation-ease: cubic-bezier(0.4, 0, 0.2, 1);
	--animation-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
	--animation-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* =============================================================================
   Keyframe Animations
   ============================================================================= */

/* Fade In */
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

/* Fade Out */
@keyframes fadeOut {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}

/* Slide In from Top */
@keyframes slideInFromTop {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Slide In from Bottom */
@keyframes slideInFromBottom {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Slide In from Left */
@keyframes slideInFromLeft {
	from {
		opacity: 0;
		transform: translateX(-10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* Slide In from Right */
@keyframes slideInFromRight {
	from {
		opacity: 0;
		transform: translateX(10px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* Scale In */
@keyframes scaleIn {
	from {
		opacity: 0;
		transform: scale(0.9);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

/* Scale Out */
@keyframes scaleOut {
	from {
		opacity: 1;
		transform: scale(1);
	}
	to {
		opacity: 0;
		transform: scale(0.9);
	}
}

/* Pop In (with bounce) */
@keyframes popIn {
	0% {
		opacity: 0;
		transform: scale(0.5);
	}
	70% {
		transform: scale(1.05);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

/* Node Appear (staggered for commit nodes) */
@keyframes nodeAppear {
	from {
		opacity: 0;
		transform: translateX(-8px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

/* Expand Height */
@keyframes expandHeight {
	from {
		opacity: 0;
		max-height: 0;
		padding-top: 0;
		padding-bottom: 0;
	}
	to {
		opacity: 1;
		max-height: 500px;
		padding-top: var(--spacing-sm, 8px);
		padding-bottom: var(--spacing-sm, 8px);
	}
}

/* Collapse Height */
@keyframes collapseHeight {
	from {
		opacity: 1;
		max-height: 500px;
	}
	to {
		opacity: 0;
		max-height: 0;
		padding-top: 0;
		padding-bottom: 0;
	}
}

/* Pulse */
@keyframes pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

/* Spin */
@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

/* Shake (for errors) */
@keyframes shake {
	0%,
	100% {
		transform: translateX(0);
	}
	10%,
	30%,
	50%,
	70%,
	90% {
		transform: translateX(-4px);
	}
	20%,
	40%,
	60%,
	80% {
		transform: translateX(4px);
	}
}

/* Highlight Flash */
@keyframes highlightFlash {
	0% {
		background-color: var(
			--vscode-editor-findMatchHighlightBackground,
			rgba(234, 92, 0, 0.33)
		);
	}
	100% {
		background-color: transparent;
	}
}

/* Branch Line Draw */
@keyframes drawLine {
	from {
		stroke-dashoffset: 1000;
	}
	to {
		stroke-dashoffset: 0;
	}
}

/* =============================================================================
   Animation Utility Classes
   ============================================================================= */

.animate-fadeIn {
	animation: fadeIn var(--animation-normal) var(--animation-ease) forwards;
}

.animate-fadeOut {
	animation: fadeOut var(--animation-normal) var(--animation-ease) forwards;
}

.animate-slideInTop {
	animation: slideInFromTop var(--animation-normal) var(--animation-ease)
		forwards;
}

.animate-slideInBottom {
	animation: slideInFromBottom var(--animation-normal) var(--animation-ease)
		forwards;
}

.animate-slideInLeft {
	animation: slideInFromLeft var(--animation-normal) var(--animation-ease)
		forwards;
}

.animate-slideInRight {
	animation: slideInFromRight var(--animation-normal) var(--animation-ease)
		forwards;
}

.animate-scaleIn {
	animation: scaleIn var(--animation-normal) var(--animation-ease) forwards;
}

.animate-popIn {
	animation: popIn var(--animation-normal) var(--animation-spring) forwards;
}

.animate-nodeAppear {
	animation: nodeAppear var(--animation-fast) var(--animation-ease) forwards;
}

.animate-pulse {
	animation: pulse 1.5s infinite;
}

.animate-spin {
	animation: spin 1s linear infinite;
}

.animate-shake {
	animation: shake 0.5s var(--animation-ease);
}

.animate-highlight {
	animation: highlightFlash 1.5s var(--animation-ease);
}

/* =============================================================================
   Staggered Animation Support
   ============================================================================= */

/* Usage: add data-animate-delay="0" through "9" for staggered animations */
[data-animate-delay="0"] {
	animation-delay: 0ms;
}
[data-animate-delay="1"] {
	animation-delay: 30ms;
}
[data-animate-delay="2"] {
	animation-delay: 60ms;
}
[data-animate-delay="3"] {
	animation-delay: 90ms;
}
[data-animate-delay="4"] {
	animation-delay: 120ms;
}
[data-animate-delay="5"] {
	animation-delay: 150ms;
}
[data-animate-delay="6"] {
	animation-delay: 180ms;
}
[data-animate-delay="7"] {
	animation-delay: 210ms;
}
[data-animate-delay="8"] {
	animation-delay: 240ms;
}
[data-animate-delay="9"] {
	animation-delay: 270ms;
}

/* =============================================================================
   Transition Utilities
   ============================================================================= */

.transition-all {
	transition: all var(--animation-normal) var(--animation-ease);
}

.transition-colors {
	transition:
		color var(--animation-fast) var(--animation-ease),
		background-color var(--animation-fast) var(--animation-ease),
		border-color var(--animation-fast) var(--animation-ease);
}

.transition-opacity {
	transition: opacity var(--animation-normal) var(--animation-ease);
}

.transition-transform {
	transition: transform var(--animation-normal) var(--animation-ease);
}

/* =============================================================================
   Reduced Motion Support
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms;
		animation-iteration-count: 1;
		transition-duration: 0.01ms;
	}

	.animate-fadeIn,
	.animate-fadeOut,
	.animate-slideInTop,
	.animate-slideInBottom,
	.animate-slideInLeft,
	.animate-slideInRight,
	.animate-scaleIn,
	.animate-popIn,
	.animate-nodeAppear,
	.animate-pulse,
	.animate-spin,
	.animate-shake,
	.animate-highlight {
		animation: none;
	}
}
